@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    .pb-safe {
        padding-bottom: env(safe-area-inset-bottom);
    }

    .pt-safe {
        padding-top: env(safe-area-inset-top);
    }
}

@layer base {
    :root {
        --safe-area-top: env(safe-area-inset-top, 0px);
        --safe-area-bottom: env(safe-area-inset-bottom, 0px);
        --safe-area-left: env(safe-area-inset-left, 0px);
        --safe-area-right: env(safe-area-inset-right, 0px);
    }

    * {
        /* Better touch performance on mobile */
        -webkit-tap-highlight-color: transparent;
        /* Prevent text selection on mobile for better UX */
        -webkit-touch-callout: none;
        outline: none !important;
    }

    html {
        /* Smooth scrolling for better UX */
        scroll-behavior: smooth;
        /* Prevent overscroll bounce on mobile */
        overscroll-behavior: none;
        height: -webkit-fill-available;
    }

    body {
        @apply font-sans antialiased bg-slate-50 text-slate-900 dark:bg-[#0f172a] dark:text-gray-100;
        /* Smooth font rendering */
        -moz-osx-font-smoothing: grayscale;
        /* Better touch scrolling on iOS */
        -webkit-overflow-scrolling: touch;
        min-height: 100vh;
        min-height: -webkit-fill-available;
        padding-top: var(--safe-area-top);
        padding-bottom: var(--safe-area-bottom);
    }

    /* Optimize button and interactive elements for touch */
    button,
    a,
    [role="button"] {
        touch-action: manipulation;
        -webkit-user-select: none;
        user-select: none;
    }

    /* Optimize inputs for mobile */
    input,
    textarea,
    select {
        touch-action: manipulation;
    }
}

@layer components {

    /* Glassmorphic Styles */
    .glass {
        @apply bg-white/70 dark:bg-slate-900/70 backdrop-blur-md border border-white/20 dark:border-white/10;
    }

    .glass-card {
        @apply glass rounded-2xl shadow-xl shadow-black/5 dark:shadow-black/20;
    }

    /* Card Styles */
    .card {
        @apply bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 transition-all duration-300;
    }

    .card-hover {
        @apply hover:shadow-xl hover:shadow-primary-500/10 hover:-translate-y-1 cursor-pointer active:scale-[0.98];
    }

    /* Button Styles */
    .btn {
        @apply px-5 py-3 rounded-2xl font-bold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 flex items-center justify-center gap-2 active:scale-95 touch-manipulation;
    }

    @media (max-width: 640px) {
        .btn {
            @apply px-4 py-3 text-sm;
        }
    }

    .btn-primary {
        @apply bg-gradient-to-br from-indigo-600 to-violet-600 text-white shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/40 hover:brightness-110 focus:ring-indigo-500;
    }

    .btn-secondary {
        @apply bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-sm;
    }

    .btn-ghost {
        @apply hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100;
    }

    /* Input Styles */
    .input {
        @apply w-full px-4 py-3 border border-gray-200 dark:border-slate-700 rounded-xl bg-gray-50/50 dark:bg-slate-900/50 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all;
    }

    .label {
        @apply block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5 ml-1;
    }

    /* Badge Styles */
    .badge {
        @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider shadow-sm;
    }

    .badge-open {
        @apply bg-emerald-100/80 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-500/30;
    }

    .badge-deadline-today {
        @apply bg-rose-100/80 text-rose-700 dark:bg-rose-500/20 dark:text-rose-400 border border-rose-200 dark:border-rose-500/30 animate-pulse;
    }

    .badge-closed {
        @apply bg-slate-100/80 text-slate-700 dark:bg-slate-500/20 dark:text-slate-400 border border-slate-200 dark:border-slate-500/30;
    }

    .badge-completed {
        @apply bg-blue-100/80 text-blue-700 dark:bg-blue-500/20 dark:text-blue-400 border border-blue-200 dark:border-blue-500/30;
    }

    .badge-attended {
        @apply bg-indigo-100/80 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400 border border-indigo-200 dark:border-indigo-500/30;
    }

    .badge-won {
        @apply bg-amber-100/80 text-amber-700 dark:bg-amber-500/20 dark:text-amber-400 border border-amber-200 dark:border-amber-500/30 font-black;
    }

    .badge-blocked {
        @apply bg-gray-100/80 text-gray-700 dark:bg-gray-800 dark:text-gray-400 border border-gray-200 dark:border-gray-700;
    }

    /* Priority Badge */
    .priority-high {
        @apply bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-lg shadow-rose-500/20;
    }

    .priority-medium {
        @apply bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg shadow-amber-500/20;
    }

    .priority-low {
        @apply bg-gradient-to-r from-indigo-500 to-cyan-500 text-white shadow-lg shadow-indigo-500/20;
    }

    /* Premium Input Subsystem */
    .input-premium {
        @apply w-full px-6 py-4 bg-slate-50 dark:bg-slate-950 border-2 border-slate-100 dark:border-slate-800 rounded-2xl text-slate-900 dark:text-white font-bold tracking-tight focus:outline-none focus:border-indigo-600 focus:ring-4 focus:ring-indigo-500/10 placeholder-slate-300 dark:placeholder-slate-700 transition-all duration-300;
    }

    .label-premium {
        @apply block text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] mb-2 ml-4;
    }

    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        @apply bg-slate-200 dark:bg-slate-800 rounded-full hover:bg-slate-300 dark:hover:bg-slate-700 transition-colors;
    }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
    @apply bg-slate-300 dark:bg-slate-700 rounded-full hover:bg-slate-400 dark:hover:bg-slate-600 transition-colors;
}

.no-scrollbar::-webkit-scrollbar {
    display: none;
}

.no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* Animations */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

.animate-shimmer {
    background: linear-gradient(90deg,
            rgba(255, 255, 255, 0) 0%,
            rgba(255, 255, 255, 0.05) 50%,
            rgba(255, 255, 255, 0) 100%);
    background-size: 200% 100%;
    animation: shimmer 2s infinite linear;
}

/* Page Transitions */
.page-enter {
    opacity: 0;
    transform: translateY(10px);
}

.page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 300ms, transform 300ms;
}



.reddot-dot {
    width: 0.65rem;
    height: 0.65rem;
    background-color: #ef4444;
    border-radius: 9999px;
    box-shadow: 0 0 12px rgba(239, 68, 68, 1);
    animation: reddot-pulse 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes reddot-pulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
        filter: bightness(1);
    }

    50% {
        opacity: .4;
        transform: scale(0.7);
        filter: brightness(1.5);
    }
}